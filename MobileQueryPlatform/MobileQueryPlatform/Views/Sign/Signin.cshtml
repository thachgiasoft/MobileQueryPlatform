@Styles.Render("~/bundles/signincss")
<script type="text/javascript">
    if (window.UserSignin == undefined) {
        Tools.Namespace.register("window.UserSignin");
    }
    if (window.UserSignin.SigninView == undefined) {
        window.UserSignin.SigninView = Backbone.View.extend({
            events: {
                "click a":"clickSignin"
            },
            clickSignin: function (e) {
                $("#btnSignin").button("loading");
                $.post("/Sign/@ViewBag.Action",
                    {
                        "UserCode": $("#UserCode").val(),
                        "UPassword": $("#UPassword").val()
                    },
                    function (data) {
                        $("#btnSignin").button("reset");
                        if (data.ResultStatus == "1") {
                            location.href="@ViewBag.Success";
                        }
                        else {
                            alert(data.ResultMessage);
                        }
                    });
            }
        });
    }
</script>

<script type="text/javascript">
    var signinView
    $(function () {
        var siginView = new window.UserSignin.SigninView({
            el: "#signinView"
        });
    });
</script>
<div class="container" id="signinView">
    <form role="form" class="form-signin" action="/Home/doUserSignin">
        <h2 class="form-signin-heading"><span class="glyphicon glyphicon-user"></span>@ViewBag.Title</h2>
        <input id="UserCode" class="form-control" type="text" autofocus="autofocus" autocomplete="on" required="required" placeholder="输入用户编码">
        <input id="UPassword" class="form-control" type="password" autofocus="autofocus" required="required" placeholder="输入密码">
        @if (ViewBag.Action != "doAdminSignin")
        {
            <label class="checkbox">
                <input type="checkbox" value="remember-me">记住密码
            </label>
        }

        <a id="btnSignin" class="btn btn-lg btn-primary btn-block">&nbsp;登&nbsp;录&nbsp;</a>
    </form>
</div>

